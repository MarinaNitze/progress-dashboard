backend:
  name: 'github'
  repo: 'Bloom-Works/progress-dashboard'
  branch: 'feature/netlify-cms'
publish_mode: 'editorial_workflow'

media_folder: 'src/images'

collections:
  - name: 'topics'
    label: 'Topics'
    folder: 'src/pages/content/topics'
    create: true
    slug: 'index'
    path: '{{title}}/index'
    fields:
      - { label: 'Title for url', name: 'title', widget: 'string' }
      - label: 'Hero'
        name: 'hero'
        widget: 'object'
        fields:
          - { label: 'Title', name: 'title', widget: 'string' }
          - {
              label: 'Image',
              name: 'image',
              widget: 'image',
              media_folder: '/src/images/heros',
              allow_multiple: false,
            }
          - {
              label: 'Background Color',
              name: 'backgroundColor',
              widget: 'select',
              options: ['primary', 'secondary', 'info', 'light', 'white'],
              default: ['light'],
            }
          - { label: 'Image Alt Text', name: 'imgAlt', widget: 'string' }
      - {
          label: 'Icon',
          name: 'image',
          widget: image,
          media_folder: '/src/images/topics',
          allow_multiple: false,
          hint: 'Must be an svg file type',
          pattern:
            [
              '/.svg$/g',
              'Detected file type was not .svg. File type must be .svg',
            ],
        }
      - { label: 'About this topic', name: 'about', widget: 'markdown' }
      - { label: 'Why this matters', name: 'why', widget: 'markdown' }
      - { label: 'What we can do', name: 'what', widget: 'markdown' }
      - { label: 'layout', name: 'layout', widget: 'hidden', default: 'topic' }
  - name: 'recommendations'
    label: 'Recommendations'
    folder: 'src/pages/content/recommendations'
    create: true
    slug: 'index'
    path: '{{title}}/index'
    fields:
      - { label: 'Title for url', name: 'title', widget: 'string' }
      - { label: 'Title for heading', name: 'heading', widget: 'string' }
      - {
          label: 'About this recommendation',
          name: 'about',
          widget: 'markdown',
        }
      - { label: 'How to do this', name: 'how', widget: 'markdown' }
      - {
          label: 'Costs',
          name: 'costs',
          widget: 'list',
          hint: 'Enter costs as comma-separated values',
        }
      - {
          label: 'Benefits',
          name: 'benefits',
          widget: 'list',
          hint: 'Enter benefits as comma-separated values',
        }
      - { label: 'Outcome Data', name: 'outcome', widget: 'markdown' }
      - label: "Who's doing this"
        name: 'who'
        widget: 'object'
        fields:
          - {
              label: 'Number of States & Territories',
              name: 'number',
              widget: 'number',
              value_type: 'int',
              max: 54,
            }
          - { label: 'Map Image', name: 'image', widget: 'image' }
      - { label: 'Get inspiration', name: 'inspiration', widget: 'markdown' }
  - name: 'pages'
    label: 'Pages'
    files:
      - label: 'Main Page'
        name: 'index'
        file: 'src/pages/index.content.yml'
        fields:
          - label: 'Home'
            name: 'home'
            widget: 'object'
            fields:
              - label: 'Hero'
                name: 'hero'
                widget: 'object'
                fields:
                  - { label: 'Title', name: 'title', widget: 'string' }
                  - { label: 'Content', name: 'content', widget: 'markdown' }
                  - {
                      label: 'Background Color',
                      name: 'backgroundColor',
                      widget: 'hidden',
                      default: 'primary',
                    }
                  - {
                      label: 'Image',
                      name: 'image',
                      widget: 'image',
                      media_folder: '../images/heros',
                      allow_multiple: false,
                    }
                  - {
                      label: 'Image Alt Text',
                      name: 'imgAlt',
                      widget: 'string',
                    }
              - label: 'Features'
                name: 'features'
                widget: 'object'
                fields:
                  - {
                      label: "What's new",
                      name: 'whatsNew',
                      widget: 'markdown',
                    }
                  - label: 'Large Feature'
                    name: 'largeFeature'
                    widget: 'object'
                    fields:
                      - { label: 'Title', name: 'title', widget: 'string' }
                      - {
                          label: 'Content',
                          name: 'content',
                          widget: 'markdown',
                        }
                      - {
                          label: 'Image',
                          name: 'image',
                          widget: 'image',
                          media_folder: '../images/features',
                          allow_multiple: false,
                        }
                      - {
                          label: 'Image Alt Text',
                          name: 'imgAlt',
                          widget: 'string',
                        }
                      - { label: 'Link', name: 'link', widget: 'string' }
                      - { label: 'Link Text', name: 'linkText', widget: string }
                      - {
                          label: 'Layout',
                          name: 'layout',
                          widget: 'hidden',
                          default: 'lg',
                        }
                  - label: 'Medium  Feature'
                    name: 'mediumFeature'
                    widget: 'object'
                    fields:
                      - { label: 'Title', name: 'title', widget: 'string' }
                      - {
                          label: 'Content',
                          name: 'content',
                          widget: 'markdown',
                        }
                      - {
                          label: 'Image',
                          name: 'image',
                          widget: 'image',
                          media_folder: '../images/features',
                          allow_multiple: false,
                        }
                      - {
                          label: 'Image Alt Text',
                          name: 'imgAlt',
                          widget: 'string',
                        }
                      - {
                          label: 'Layout',
                          name: 'layout',
                          widget: 'hidden',
                          default: 'md',
                        }
                  - label: 'Small Feature'
                    name: 'smallFeature'
                    widget: 'object'
                    fields:
                      - { label: 'Title', name: 'title', widget: 'string' }
                      - {
                          label: 'Content',
                          name: 'content',
                          widget: 'markdown',
                        }
                      - {
                          label: 'Image',
                          name: 'image',
                          widget: 'image',
                          media_folder: '../images/features',
                          allow_multiple: false,
                        }
                      - {
                          label: 'Image Alt Text',
                          name: 'imgAlt',
                          widget: 'string',
                        }
                      - {
                          label: 'Layout',
                          name: 'layout',
                          widget: 'hidden',
                          default: 'sm',
                        }
              - label: 'Topics'
                name: 'topics'
                widget: 'relation'
                collection: 'topics'
                multiple: true
                min: 1
                max: 7
                value_field: 'title'
                search_fields: ['title']
              - label: 'Our mission'
                name: 'mission'
                widget: 'object'
                fields:
                  - { label: 'Title', name: 'title', widget: 'string' }
                  - { label: 'Content', name: 'content', widget: 'markdown' }
                  - {
                      label: 'Image',
                      name: 'image',
                      widget: 'image',
                      media_folder: '../images/heros',
                      allow_multiple: false,
                    }
                  - {
                      label: 'Image Alt Text',
                      name: 'imgAlt',
                      widget: 'string',
                    }
                  - {
                      label: 'Background Color',
                      name: 'backgroundColor',
                      widget: 'hidden',
                      default: 'light',
                    }
